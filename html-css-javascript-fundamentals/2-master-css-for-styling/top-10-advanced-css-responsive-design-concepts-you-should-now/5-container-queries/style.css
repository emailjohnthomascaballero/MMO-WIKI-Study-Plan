body {
  display: flex;
}

.box {
  background-color: aqua;
  width: 200px;
  height: 200px;
  margin: 20px;
}

.sidebar {
  width: 40%;
  border-left: 1px solid black;
}

.main {
  flex-grow: 1;
}

@container (width >= 600px) {
  .box {
    background-color: red;
  }
}

/* sized based on its inline content, which is the content's natural width. */
.main, .sidebar {
  container-type: inline-size;
}